function manipularTabIndex(e){e.hasAttribute("tabindex")&&"-1"===e.getAttribute("tabindex")?e.removeAttribute("tabindex"):e.setAttribute("tabindex","-1");let t=e.children;for(let e=0;e<t.length;e++)manipularTabIndex(t[e]);}
function applyTabIndexRecursively(element){if(element.nodeType===Node.ELEMENT_NODE){if(!element.hasAttribute("tabindex")||element.getAttribute("tabindex")!=="-1"){element.setAttribute("tabindex","-1")}
Array.from(element.children).forEach(applyTabIndexRecursively)}}
function next_circular_menu(){let e=window.location.href.includes("brickspreview");document.querySelectorAll(".nb-circular-menu").forEach((t)=>{let toggleBody=t.getAttribute("data-customtoggle-lock-body-scrolling")==="1";var r=t.getAttribute("data-open-builder");let o=!1,n=t.querySelector(".nb-circular-menu__content");var a=t.getAttribute("data-duration"),u=t.getAttribute("data-easing");var i=gsap.timeline({paused:!0});i.to(n,{duration:parseFloat(a),ease:u,clipPath:getComputedStyle(n).getPropertyValue("--clip-path")});let l=!1,s=t.getAttribute("data-customtoggle");var b=s?s.replace(".",""):null;if(s)var m=document.querySelectorAll(s);let c=document.querySelectorAll(".bc-core-burguer"),d=t.querySelectorAll(".bc-core-burguer");if(!e){const observer=new MutationObserver((mutations)=>{mutations.forEach((mutation)=>{if(mutation.type==="childList"){mutation.addedNodes.forEach((node)=>{if(node.nodeType===Node.ELEMENT_NODE){applyTabIndexRecursively(node)}})}})});observer.observe(n,{childList:!0,subtree:!0})}
function p(){if(!n)return;manipularTabIndex(n);l?((n.style.pointerEvents="none"),i.reverse()):((n.style.pointerEvents="all"),i.play());if(m){m.forEach((e)=>{let button=e.querySelector("button");if(button){let r=button.classList,o=r.length>0?`${r[0]}--opened`:"";l?(button.classList.remove(o),button.setAttribute("aria-expanded","false")):(button.classList.add(o),button.setAttribute("aria-expanded","true"))}})}
if(d){d.forEach((e)=>{let button=e.querySelector("button");if(button){let r=button.classList,o=r.length>0?`${r[0]}--opened`:"";l?(button.classList.remove(o),button.setAttribute("aria-expanded","false")):(button.classList.add(o),button.setAttribute("aria-expanded","true"))}})}
l=!l}
if(e&&r=="1"){i.play()}
manipularTabIndex(n);function toggleBodyScroll(){if(toggleBody){if(document.querySelector("html").hasAttribute("bc-core-burguer--body-toggled")){if(window.lenisInstance){window.lenisInstance.start()}}else{if(window.lenisInstance){window.lenisInstance.stop()}}
document.querySelector("html").toggleAttribute("bc-core-burguer--body-toggled")}}
if(s){var g=document.querySelectorAll(s);g.forEach((element)=>{if(!element.hasAttribute("tabindex")){element.setAttribute("tabindex","0")}
element.addEventListener("click",function(){toggleBodyScroll();p()});element.addEventListener("keydown",function(event){if(event.key==="Enter"){toggleBodyScroll();p();event.stopImmediatePropagation()}})})}
if(d){d.forEach((e)=>{e.addEventListener("click",function(){p()})})}
document.addEventListener("click",function(e){if(!n)return;n.contains(e.target)||(m&&Array.from(m).some((t)=>t.contains(e.target)))||(d&&Array.from(d).some((t)=>t.contains(e.target)))||(l&&p(),o&&document.querySelector("html").hasAttribute("bc-core-burguer--body-toggled")&&document.querySelector("html").removeAttribute("bc-core-burguer--body-toggled"))});document.addEventListener("keydown",function(e){if(l&&e.key==="Escape")p();o&&document.querySelector("html").hasAttribute("bc-core-burguer--body-toggled")&&document.querySelector("html").removeAttribute("bc-core-burguer--body-toggled")});n.addEventListener("focusout",function(e){if(e.relatedTarget&&!n.contains(e.relatedTarget)){l&&p()}})})}
document.addEventListener("DOMContentLoaded",function(){bricksIsFrontend&&next_circular_menu()})