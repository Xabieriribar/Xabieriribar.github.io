function next_table_of_contents(){var bricksPreview=window.location.href.includes("brickspreview");if(!Util)function Util(){};Util.hasClass=function(el,className){return el.classList.contains(className)};Util.addClass=function(el,className){var classList=className.split(' ');el.classList.add(classList[0]);if(classList.length>1)Util.addClass(el,classList.slice(1).join(' '));};Util.removeClass=function(el,className){var classList=className.split(' ');el.classList.remove(classList[0]);if(classList.length>1)Util.removeClass(el,classList.slice(1).join(' '));};Util.toggleClass=function(el,className,bool){if(bool)Util.addClass(el,className);else Util.removeClass(el,className)};(function(){var Toc=function(element){this.element=element;if(element.getAttribute('data-smooth-scroll')=='1'){document.documentElement.style.scrollBehavior="smooth"}
if(element.getAttribute('data-responsive')=='1'&&bricksPreview){handleBreakpoint(this)}
moveCssVariablesToRoot(this.element)
this.contentTarget=document.querySelector(element.getAttribute('data-content-selector'));if(this.contentTarget){this.contentTarget.classList.add('next-toc-content')}
this.selector=element.getAttribute('data-selector');this.ignoreSelector=element.getAttribute('data-ignore-selector');this.windowDistance=window.innerHeight/2;if(element.getAttribute('data-scroll-toggle')=='onEnter'){this.windowDistance=window.innerHeight}
generateTocList(this);this.list=this.element.getElementsByClassName('next-toc__list')[0];this.anchors=this.list.querySelectorAll('a[href^="#"]');this.sections=getSections(this);this.controller=this.element.getElementsByClassName('next-toc__control');this.controllerLabel=this.element.getElementsByClassName('next-toc__control-label');this.content=getTocContent(this);this.clickScrolling=!1;this.intervalID=!1;this.staticLayoutClass='next-toc--static';this.contentStaticLayoutClass='next-toc-content--next-toc-static';this.expandedClass='next-toc--expanded';this.isStatic=Util.hasClass(this.element,this.staticLayoutClass);this.layout='static';initToc(this)};function handleBreakpoint(toc){var breakpoint=toc.element.getAttribute('data-breakpoint');if(!breakpoint)return;var mql=window.matchMedia(`(min-width: ${breakpoint}px)`);function applyResponsiveAttributes(event){if(event.matches){toc.element.setAttribute('data-builder-responsive','true')}else{toc.element.removeAttribute('data-builder-responsive')}}
applyResponsiveAttributes(mql);mql.addListener(applyResponsiveAttributes)}
function moveCssVariablesToRoot(tocElement){const outlineColorFrom=getComputedStyle(tocElement).getPropertyValue('--outline-color-from');const outlineColorTo=getComputedStyle(tocElement).getPropertyValue('--outline-color-to');const outlineWidth=getComputedStyle(tocElement).getPropertyValue('--outline-width');const outlineStyle=getComputedStyle(tocElement).getPropertyValue('--outline-style');const outlineAnimationDuration=getComputedStyle(tocElement).getPropertyValue('--outline-animation-duration');document.documentElement.style.setProperty('--outline-color-from',outlineColorFrom);document.documentElement.style.setProperty('--outline-color-to',outlineColorTo);document.documentElement.style.setProperty('--outline-width',outlineWidth);document.documentElement.style.setProperty('--outline-style',outlineStyle);document.documentElement.style.setProperty('--outline-animation-duration',outlineAnimationDuration)}
function generateTocList(toc){var tocList=toc.element.querySelector('.next-toc__list');var contentElements=toc.contentTarget.querySelectorAll(toc.selector);contentElements.forEach(element=>{if(toc.ignoreSelector&&element.matches(toc.ignoreSelector)){return}
element.classList.add('toc-content__target');const li=document.createElement('li');const a=document.createElement('a');a.className='next-toc__link';a.href=`#${element.id}`;a.textContent=element.textContent;li.appendChild(a);tocList.appendChild(li);let css="";if(bricksPreview){if(element.id){css+=`li:has(a[href="#${element.id}"]) ~ li:has(a[href="#${element.id}"]){ display: none; }\n`}
if(css){const style=document.createElement('style');style.type='text/css';style.appendChild(document.createTextNode(css));document.head.appendChild(style)}}})}
function getSections(toc){var sections=[];for(var i=0;i<toc.anchors.length;i++){if(toc.contentTarget){var section=toc.contentTarget.querySelector(toc.anchors[i].getAttribute('href'));if(section)sections.push(section);}}
return sections};function getTocContent(toc){if(toc.sections.length<1)return!1;var content=toc.sections[0].closest('.next-toc-content');return content};function initToc(toc){checkTocLayour(toc);if(toc.sections.length>0){toc.list.addEventListener('click',function(event){var anchor=event.target.closest('a[href^="#"]');if(!anchor)return;toc.clickScrolling=!0;resetAnchors(toc,anchor);toggleToc(toc,!0)});var intersectionObserverSupported=('IntersectionObserver' in window&&'IntersectionObserverEntry' in window&&'intersectionRatio' in window.IntersectionObserverEntry.prototype);if(intersectionObserverSupported){var observer=new IntersectionObserver(function(entries,observer){entries.forEach(function(entry){if(!toc.clickScrolling){getVisibleSection(toc)}})},{threshold:[0,0.1],rootMargin:"0px 0px 0px 0px"});for(var i=0;i<toc.sections.length;i++){observer.observe(toc.sections[i])}}
toc.element.addEventListener('toc-scroll',function(event){toc.clickScrolling=!1})}
toc.element.addEventListener('toc-resize',function(event){checkTocLayour(toc)});initCollapsedVersion(toc)};function resetAnchors(toc,anchor){if(!anchor)return;for(var i=0;i<toc.anchors.length;i++)Util.removeClass(toc.anchors[i],'next-toc__link--selected');Util.addClass(anchor,'next-toc__link--selected')};function getVisibleSection(toc){if(toc.intervalID){clearInterval(toc.intervalID)}
toc.intervalID=setTimeout(function(){var halfWindowHeight=toc.windowDistance,index=-1;for(var i=0;i<toc.sections.length;i++){var top=toc.sections[i].getBoundingClientRect().top;if(top<halfWindowHeight)index=i}
if(index>-1){resetAnchors(toc,toc.anchors[index])}
toc.intervalID=!1},100)};function checkTocLayour(toc){if(toc.isStatic)return;toc.layout=getComputedStyle(toc.element,':before').getPropertyValue('content').replace(/\'|"/g,'');Util.toggleClass(toc.element,toc.staticLayoutClass,toc.layout=='static');if(toc.content)Util.toggleClass(toc.content,toc.contentStaticLayoutClass,toc.layout=='static');};function initCollapsedVersion(toc){if(toc.controller.length<1)return;toc.controller[0].addEventListener('click',function(event){var isOpen=Util.hasClass(toc.element,toc.expandedClass);toggleToc(toc,isOpen)});toc.element.addEventListener('keydown',function(event){if(toc.layout=='static')return;if((event.keyCode&&event.keyCode==27)||(event.key&&event.key.toLowerCase()=='escape')){toggleToc(toc,!0);toc.controller[0].focus()}})};function toggleToc(toc,bool){if(toc.controller.length<1)return;Util.toggleClass(toc.element,toc.expandedClass,!bool);bool?toc.controller[0].removeAttribute('aria-expanded'):toc.controller[0].setAttribute('aria-expanded','true');if(!bool&&toc.anchors.length>0){toc.anchors[0].focus()}};var tocs=document.getElementsByClassName('next-toc');var tocsArray=[];if(tocs.length>0){for(var i=0;i<tocs.length;i++){(function(i){tocsArray.push(new Toc(tocs[i]))})(i)}
var scrollId=!1,resizeId=!1,scrollEvent=new CustomEvent('toc-scroll'),resizeEvent=new CustomEvent('toc-resize');window.addEventListener('scroll',function(){clearTimeout(scrollId);scrollId=setTimeout(doneScrolling,100)});window.addEventListener('resize',function(){clearTimeout(resizeId);scrollId=setTimeout(doneResizing,100)});function doneScrolling(){for(var i=0;i<tocsArray.length;i++){(function(i){tocsArray[i].element.dispatchEvent(scrollEvent)})(i)}};function doneResizing(){for(var i=0;i<tocsArray.length;i++){(function(i){tocsArray[i].element.dispatchEvent(resizeEvent)})(i)}}}}())}
document.addEventListener("DOMContentLoaded",function(){if(window.location.hash){history.replaceState(null,null,window.location.pathname+window.location.search)}
bricksIsFrontend&&next_table_of_contents()})